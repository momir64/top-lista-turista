import{n as M}from"./NavigationBar.00dcf57f.js";import{_ as O,V as w,a as P,b as N,c as Y,u as U,d as G,e as J,g as K,f as Q,h as W,i as X,j as Z,k as ee}from"./VMain.1d14ca28.js";import{V as L,S as te}from"./index.94f23116.js";import{V as I,a as T,b as ae}from"./VTextField.7f9fff51.js";import{V as oe}from"./VSelect.d26cedd6.js";import{r as v,o as f,c as x,w as r,a,b as p,t as m,d as k,e as E,F as A,n as se,f as j,p as ne,g as le,h as re,u as ie,i as ce,j as de,k as V,l as ue,m as pe,q as he,s as F,v as ge}from"./index.47f7c269.js";import"./VList.033b98aa.js";import"./VChip.95086708.js";const fe={data:()=>({url:"https://top-lista-turista-default-rtdb.europe-west1.firebasedatabase.app/",pretragaInput:"",selektovana:"Agencija",opcije:["Agencija","Destinacija"],agencije:[],agencijeShow:[]}),methods:{pretraga(){console.log(this.selektovana),this.agencijeShow=this.agencije.filter(e=>this.selektovana=="Agencija"&&e.naziv.toLowerCase().includes(this.pretragaInput.toLowerCase())||this.selektovana=="Destinacija"&&e.destinacije.some(s=>s.naziv.toLowerCase().includes(this.pretragaInput.toLowerCase())))},async load_agencije(){let e,s;try{let i=await fetch(this.url+"/agencije.json");if(e=i.status,s=i.statusText,!i.ok)throw new Error;const o=await i.json(),t=[];for(const n in o)t.push({id:n,logo:o[n].logo,naziv:o[n].naziv,adresa:o[n].adresa,email:o[n].email,telefon:o[n].brojTelefona,destinacijeId:o[n].destinacije,destinacije:[]});this.agencije=t,this.agencijeShow=t,await this.load_destinacije()}catch(i){console.log(i),s=`Firebase: ${e}\xA0${s}`,e="Ooops",this.$router.push({path:"/error",state:{code:e,message:s}})}},async load_destinacije(){for(const e in this.agencije)this.agencije[e].destinacije=await this.load_destinacija(this.agencije[e].destinacijeId);this.agencijeShow=this.agencije},async load_destinacija(e){let s,i;try{let o=await fetch(this.url+"/destinacije.json");if(s=o.status,i=o.statusText,!o.ok)throw new Error;const t=await o.json(),n=[];console.log(t),console.log(e);for(const c in t[e])n.push({id:c,tip:t[e][c].tip,opis:t[e][c].opis,cena:t[e][c].cena,naziv:t[e][c].naziv,slike:t[e][c].slike,prevoz:t[e][c].prevoz,maxOsoba:t[e][c].maxOsoba});return n}catch(o){console.log(o),i=`Firebase: ${s}\xA0${i}`;const t="Ooops";this.$router.push({path:"/error",state:s==200?{}:{title:t,message:i}})}}},beforeMount(){this.load_agencije()},watch:{selektovana:function(){this.pretraga()}}},b=e=>(ne("data-v-a45204dd"),e=e(),le(),e),me={class:"izbornik",style:{"border-right":"1px solid #bbb"}},_e={id:"izbor"},ve=b(()=>p("br",null,null,-1)),be=b(()=>p("br",null,null,-1)),we=b(()=>p("br",null,null,-1)),ke=b(()=>p("div",{style:{height:"100px",width:"100%"}},null,-1));function je(e,s,i,o,t,n){const c=v("router-link");return f(),x(L,{id:"content_holder_container"},{default:r(()=>[a(w,{id:"content_holder",class:"align-center text-center px-xs-3 px-sm-5 px-md-11"},{default:r(()=>[a(L,{fluid:""},{default:r(()=>[a(I,null,{default:r(()=>[a(T,{id:"card_pretraga_col"},{default:r(()=>[a(w,{class:"card_pretraga mb-15 d-flex",height:"56px",variant:"outlined"},{default:r(()=>[p("div",me,[a(oe,{"bg-color":"#fffdf9",items:e.opcije,modelValue:e.selektovana,"onUpdate:modelValue":s[0]||(s[0]=l=>e.selektovana=l),variant:"x"},{selection:r(({item:l})=>[p("span",_e,m(l.title),1)]),_:1},8,["items","modelValue"])]),a(ae,{"bg-color":"#fffdf9","single-line":"",class:"pretragaHome",label:"Pretraga",variant:"x",modelValue:e.pretragaInput,"onUpdate:modelValue":s[1]||(s[1]=l=>e.pretragaInput=l),onInput:n.pretraga,"append-inner-icon":"mdi-magnify"},null,8,["modelValue","onInput"])]),_:1})]),_:1})]),_:1}),a(I,null,{default:r(()=>[(f(!0),k(A,null,E(e.agencijeShow,l=>(f(),x(T,{class:"pa-xs-3 pa-sm-4 pa-md-5 pa-lg-6 mb-2 mb-sm-1",key:l.id,cols:"12",md:"6",lg:"4"},{default:r(()=>[a(c,{style:{"text-decoration":"none",color:"inherit"},to:`/agencija/${l.naziv}`},{default:r(()=>[a(w,{class:"kartica"},{default:r(()=>[a(P,{src:l.logo,class:"align-end",gradient:"to bottom, rgba(0,0,0,0.05), rgba(0,0,0,.4)",height:"222px",cover:""},null,8,["src"]),a(N,{class:"kartica_naslov"},{default:r(()=>[(f(!0),k(A,null,E(l.naziv.split(new RegExp(`(${e.pretragaInput})`,"ig")),h=>(f(),k("span",{class:"round",style:se(h.toLowerCase()==e.pretragaInput.toLowerCase()&&e.selektovana=="Agencija"?{"background-color":"#d9d1c1"}:{})},m(h),5))),256))]),_:2},1024),a(Y,{class:"kartica_tekst"},{default:r(()=>[j(m(l.adresa),1),ve,j(" "+m(l.email),1),be,j(" "+m(l.telefon),1),we]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),ke]),_:1})]),_:1})]),_:1})}const Ve=O(fe,[["render",je],["__scopeId","data-v-a45204dd"]]),R="/assets/quote.8a2d356a.svg",xe="/assets/background.1cb2a670.jpg";function ye(e){return Math.floor(Math.abs(e))*Math.sign(e)}const $e=re()({name:"VParallax",props:{scale:{type:[Number,String],default:.5}},setup(e,s){let{slots:i}=s;const{intersectionRef:o,isIntersecting:t}=U(),{resizeRef:n,contentRect:c}=G(),{height:l}=ie(),h=ce();de(()=>{var u;o.value=n.value=(u=h.value)==null?void 0:u.$el});let d;V(t,u=>{u?(d=K(o.value),d=d===document.scrollingElement?document:d,d.addEventListener("scroll",g,{passive:!0}),g()):d.removeEventListener("scroll",g)}),ue(()=>{d==null||d.removeEventListener("scroll",g)}),V(l,g),V(()=>{var u;return(u=c.value)==null?void 0:u.height},g);const y=pe(()=>1-he(+e.scale));let $=-1;function g(){!t.value||(cancelAnimationFrame($),$=requestAnimationFrame(()=>{var C;const u=((C=h.value)==null?void 0:C.$el).querySelector(".v-img__img");if(!u)return;const S=d instanceof Document?document.documentElement.clientHeight:d.clientHeight,z=d instanceof Document?window.scrollY:d.scrollTop,B=o.value.getBoundingClientRect().top+z,_=c.value.height,D=B+(_-S)/2,q=ye((z-D)*y.value),H=Math.max(1,(y.value*(S-_)+_)/_);u.style.setProperty("transform",`translateY(${q}px) scale(${H})`)}))}return J(()=>a(P,{class:["v-parallax",{"v-parallax--active":t.value}],ref:h,cover:!0,onLoadstart:g,onLoad:g},i)),{}}}),Se={components:{navigation:M,agencije:Ve,foote:Q},data:()=>({flat:null,fab:null,color:""}),watch:{flat(e){e?this.color="transparent":this.color="secondary"}},methods:{toTop(){window.scrollTo({top:0,behavior:"smooth"})},check(){this.fab=window.pageYOffset>60,this.flat=window.pageYOffset<=60&&window.innerHeight>520}},mounted(){this.check(),window.addEventListener("resize",this.check,{passive:!0})}},ze=p("div",{class:"home_cover_div hidden-sm-and-up"},[p("img",{class:"quote",src:R})],-1),Ce=p("img",{class:"quote",src:R},null,-1);function Le(e,s,i,o,t,n){const c=v("navigation"),l=v("agencije"),h=v("foote");return F((f(),x(W,null,{default:r(()=>[a(c,{color:e.color,flat:e.flat},null,8,["color","flat"]),a(X,null,{default:r(()=>[ze,a($e,{id:"home_cover",class:"hidden-xs",src:xe},{default:r(()=>[Ce]),_:1}),a(l)]),_:1}),a(ee,null,{default:r(()=>[F(a(Z,{fab:"",dark:"",fixed:"",bottom:"",right:"",class:"topFab",color:"#bfb7a7",icon:"mdi-arrow-up",onClick:n.toTop},null,8,["onClick"]),[[ge,e.fab]])]),_:1}),a(h,{mediaLinks:!0})]),_:1})),[[te,n.check]])}const Be=O(Se,[["render",Le]]);export{Be as default};
