import{n as R}from"./NavigationBar.e21ee746.js";import{_ as I,V as k,a as A,b as q,c as H,u as M,d as N,e as Y,g as U,f as G,h as J,i as K,j as Q,k as W}from"./VMain.6f14cc3b.js";import{V as C,S as X}from"./index.d7b383bc.js";import{V as L,a as T,b as Z}from"./VTextField.a55e3a3e.js";import{V as ee}from"./VSelect.b48b9ae5.js";import{r as v,o as b,c as x,w as i,a,b as p,t as m,d as te,e as ae,F as oe,f as _,p as se,g as ne,h as le,u as ie,i as re,j as ce,k as j,l as de,m as ue,n as pe,q as E,v as he}from"./index.ec2195b3.js";import"./VDialog.ab0388d9.js";import"./VList.e4beca85.js";import"./VChip.8b62901a.js";const fe={data:()=>({url:"https://top-lista-turista-default-rtdb.europe-west1.firebasedatabase.app/",pretragaInput:"",selektovana:"Agencija",opcije:["Agencija","Destinacija"],agencije:[],agencijeShow:[]}),methods:{pretraga(){console.log(this.selektovana),this.agencijeShow=this.agencije.filter(e=>this.selektovana=="Agencija"&&e.naziv.toLowerCase().includes(this.pretragaInput.toLowerCase())||this.selektovana=="Destinacija"&&e.destinacije.some(s=>s.naziv.toLowerCase().includes(this.pretragaInput.toLowerCase())))},async load_agencije(){let e,s;try{let r=await fetch(this.url+"/agencije.json");if(e=r.status,s=r.statusText,!r.ok)throw new Error;const o=await r.json(),t=[];for(const n in o)t.push({id:n,logo:o[n].logo,naziv:o[n].naziv,adresa:o[n].adresa,email:o[n].email,telefon:o[n].brojTelefona,destinacijeId:o[n].destinacije,destinacije:[]});this.agencije=t,this.agencijeShow=t,await this.load_destinacije()}catch(r){console.log(r),s=`Firebase: ${e}\xA0${s}`,e="Ooops",this.$router.push({path:"/error",state:{code:e,message:s}})}},async load_destinacije(){for(const e in this.agencije)this.agencije[e].destinacije=await this.load_destinacija(this.agencije[e].destinacijeId);this.agencijeShow=this.agencije},async load_destinacija(e){let s,r;try{let o=await fetch(this.url+"/destinacije.json");if(s=o.status,r=o.statusText,!o.ok)throw new Error;const t=await o.json(),n=[];console.log(t),console.log(e);for(const c in t[e])n.push({id:c,tip:t[e][c].tip,opis:t[e][c].opis,cena:t[e][c].cena,naziv:t[e][c].naziv,slike:t[e][c].slike,prevoz:t[e][c].prevoz,maxOsoba:t[e][c].maxOsoba});return n}catch(o){console.log(o),r=`Firebase: ${s}\xA0${r}`;const t="Ooops";this.$router.push({path:"/error",state:s==200?{}:{title:t,message:r}})}}},beforeMount(){this.load_agencije()},watch:{selektovana:function(){this.pretraga()}}},w=e=>(se("data-v-b20da699"),e=e(),ne(),e),me={class:"izbornik",style:{"border-right":"1px solid #bbb"}},ge={id:"izbor"},_e=w(()=>p("br",null,null,-1)),ve=w(()=>p("br",null,null,-1)),be=w(()=>p("br",null,null,-1)),we=w(()=>p("div",{style:{height:"100px",width:"100%"}},null,-1));function ke(e,s,r,o,t,n){const c=v("router-link");return b(),x(C,{id:"content_holder_container"},{default:i(()=>[a(k,{id:"content_holder",class:"align-center text-center px-xs-3 px-sm-5 px-md-11"},{default:i(()=>[a(C,{fluid:""},{default:i(()=>[a(L,null,{default:i(()=>[a(T,{id:"card_pretraga_col"},{default:i(()=>[a(k,{class:"card_pretraga mb-15 d-flex",height:"56px",variant:"outlined"},{default:i(()=>[p("div",me,[a(ee,{"bg-color":"#fffdf9",items:e.opcije,modelValue:e.selektovana,"onUpdate:modelValue":s[0]||(s[0]=l=>e.selektovana=l),variant:"x"},{selection:i(({item:l})=>[p("span",ge,m(l.title),1)]),_:1},8,["items","modelValue"])]),a(Z,{"bg-color":"#fffdf9","single-line":"",class:"pretragaHome",label:"Pretraga",variant:"x",modelValue:e.pretragaInput,"onUpdate:modelValue":s[1]||(s[1]=l=>e.pretragaInput=l),onInput:n.pretraga,"append-inner-icon":"mdi-magnify"},null,8,["modelValue","onInput"])]),_:1})]),_:1})]),_:1}),a(L,null,{default:i(()=>[(b(!0),te(oe,null,ae(e.agencijeShow,l=>(b(),x(T,{class:"pa-xs-3 pa-sm-4 pa-md-5 pa-lg-6 mb-2 mb-sm-1",key:l.id,cols:"12",md:"6",lg:"4"},{default:i(()=>[a(c,{style:{"text-decoration":"none",color:"inherit"},to:`/agencija/${l.naziv}`},{default:i(()=>[a(k,{class:"kartica"},{default:i(()=>[a(A,{src:l.logo,class:"align-end",gradient:"to bottom, rgba(0,0,0,0.05), rgba(0,0,0,.4)",height:"222px",cover:""},null,8,["src"]),a(q,{class:"kartica_naslov"},{default:i(()=>[_(m(l.naziv),1)]),_:2},1024),a(H,{class:"kartica_tekst"},{default:i(()=>[_(m(l.adresa),1),_e,_(" "+m(l.email),1),ve,_(" "+m(l.telefon),1),be]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),we]),_:1})]),_:1})]),_:1})}const je=I(fe,[["render",ke],["__scopeId","data-v-b20da699"]]),F="/assets/quote.8a2d356a.svg",xe="/assets/background.1cb2a670.jpg";function Ve(e){return Math.floor(Math.abs(e))*Math.sign(e)}const ye=le()({name:"VParallax",props:{scale:{type:[Number,String],default:.5}},setup(e,s){let{slots:r}=s;const{intersectionRef:o,isIntersecting:t}=M(),{resizeRef:n,contentRect:c}=N(),{height:l}=ie(),f=re();ce(()=>{var u;o.value=n.value=(u=f.value)==null?void 0:u.$el});let d;j(t,u=>{u?(d=U(o.value),d=d===document.scrollingElement?document:d,d.addEventListener("scroll",h,{passive:!0}),h()):d.removeEventListener("scroll",h)}),de(()=>{d==null||d.removeEventListener("scroll",h)}),j(l,h),j(()=>{var u;return(u=c.value)==null?void 0:u.height},h);const V=ue(()=>1-pe(+e.scale));let y=-1;function h(){!t.value||(cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var z;const u=((z=f.value)==null?void 0:z.$el).querySelector(".v-img__img");if(!u)return;const $=d instanceof Document?document.documentElement.clientHeight:d.clientHeight,S=d instanceof Document?window.scrollY:d.scrollTop,O=o.value.getBoundingClientRect().top+S,g=c.value.height,P=O+(g-$)/2,B=Ve((S-P)*V.value),D=Math.max(1,(V.value*($-g)+g)/g);u.style.setProperty("transform",`translateY(${B}px) scale(${D})`)}))}return Y(()=>a(A,{class:["v-parallax",{"v-parallax--active":t.value}],ref:f,cover:!0,onLoadstart:h,onLoad:h},r)),{}}}),$e={components:{navigation:R,agencije:je,foote:G},data:()=>({flat:null,fab:null,color:""}),watch:{flat(e){e?this.color="transparent":this.color="secondary"}},methods:{toTop(){window.scrollTo({top:0,behavior:"smooth"})},check(){this.fab=window.pageYOffset>60,this.flat=window.pageYOffset<=60&&window.innerHeight>520}},mounted(){this.check(),window.addEventListener("resize",this.check,{passive:!0})}},Se=p("div",{class:"home_cover_div hidden-sm-and-up"},[p("img",{class:"quote",src:F})],-1),ze=p("img",{class:"quote",src:F},null,-1);function Ce(e,s,r,o,t,n){const c=v("navigation"),l=v("agencije"),f=v("foote");return E((b(),x(J,null,{default:i(()=>[a(c,{color:e.color,flat:e.flat},null,8,["color","flat"]),a(K,null,{default:i(()=>[Se,a(ye,{id:"home_cover",class:"hidden-xs",src:xe},{default:i(()=>[ze]),_:1}),a(l)]),_:1}),a(W,null,{default:i(()=>[E(a(Q,{fab:"",dark:"",fixed:"",bottom:"",right:"",class:"topFab",color:"#bfb7a7",icon:"mdi-arrow-up",onClick:n.toTop},null,8,["onClick"]),[[he,e.fab]])]),_:1}),a(f,{mediaLinks:!0})]),_:1})),[[X,n.check]])}const De=I($e,[["render",Ce]]);export{De as default};
